<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>XQuery Web Applications with BaseX: Databases </title>
	<meta name="description" content="">
	<meta name="author" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<link rel="stylesheet" href="css/style.css?v=2">
	<link rel="stylesheet" media="handheld" href="css/handheld.css?v=2">
	<script src="js/libs/modernizr-1.7.min.js"></script>
</head>
<body>
	<div id="container">
		<header>
      <h1>Inline XQuery in your Browser</h1>
		</header>

		<div id="main" role="main">

 
      <article class="example">
        <h2>Opening Databases</h2>
        
       <div class="subcolumns">
         <div class="left"> <pre>
&lt;ul&gt;
&lt;?xq 
  for $city in doc(&#x27;http://files.basex.org/xml/factbook.xml&#x27;)//city
    let $name := $city/name[1]/text()
    where starts-with($name, &#x27;Kr&#x27;)
  return &lt;li&gt;{$name}&lt;/li&gt;
?&gt;
&lt;/ul&gt;
          
        </pre>
        <p>
        Yes you saw right, we directly open a XML resource by it&#x27;s URL &ndash; sure this takes some time. So let&#x27;s try it local.</p>
<hr />
<h3>Persistent XML Storage</h3>
	<p>
        Download the <a href="http://files.basex.org/xml/factbook.xml" title="">factbook.xml</a> file and create a local database named <code>factbook</code> 
        using the <a href="http://docs.basex.org/wiki/GUI_Tutorial" title="BaseX | GUI">BaseX GUI</a>.
        </p>
        <p>
        Then modify the query on the current page (<code>src/main/webapp/databases.html</code>) to use: <code>doc('factbook')</code> to stop the database from recreating the database anytime
        you open your website.</p>
              <br />
        </div>
        <div class="right">
        <strong>Yields</strong><br />
        <ul><?xq 
      for $city in doc('http://localhost:8080/resource/factbook.xml')//city
			  let $name := $city/name[1]/text()
			  where starts-with($name, 'Kr')
      return <li>{$name}</li>
        ?>
        </ul></div></div>
      </article>
			<hr style="clear:both;"/>
			Click here to read more about how to add interactivity: <a href="Get-and-Post.html" id="" title="Get-and-Post">GET &amp; POST Parameters</a>
      <hr />      <a href="index.html" id="" title="Back">Back</a>
		</div>

		<footer>

		</footer>
	</div>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
	<script>!window.jQuery && document.write(unescape('%3Cscript src="js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
	<script src="js/plugins.js"></script>
	<script src="js/script.js"></script>
</body>
</html>